<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<script type=text/javascript src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
	<style>
		div.bar{
			display:inline-block;
			width:20px;
			height:75px;
			background-color:darkturquoise;
			margin-right: 2px;
		}
	</style>

	<!-- <div style="display:inline-block;
		width:20px;
		height:75px;
		background-color:antiquewhite;">
	</div>

	<div class="bar"></div> -->

	<script>
	var dataset=[7,9,15,8,12,12,15,23,17,9];

	// for(var i=0;i<9;i++){
	// 	var newNumber=Math.floor(Math.random()*30);
	// 	dataset.push(newNumber);
	// }
	// var div = d3.select("body")
	//   .selectAll("div")
	//   .data(dataset)
	//   .enter()
	//   .append("div")
	//   .attr("class","bar")
	//   .style("height",function(d){
	// 	var barHeight=d*5;
	// 	return barHeight+"px";
	//   });
	var w=500;
	var h=100;
	var barPadding=1;

	d3.select("body")
	  .selectAll("div")
	  .data(dataset)
	  .enter()
	  .append("div")
	  .attr("class","bar")
	  .style("height",function(d){
		return 3*d+ "px";
	  })

	var svg=d3.select("body")
	  		.append("svg")
			.attr("width",w)
			.attr("height",h);

	svg.selectAll("rect")
	   .data(dataset)
	   .enter()
	   .append("rect")
	   .attr("x",function(d,i){
		return i*(w/dataset.length);
	   })
	   .attr("y",function(d){
		return h-5*d;
	   })
	   .attr("width",w/dataset.length-barPadding)
	   .attr("height",200)
	   .attr("fill",function(d){
		return "rgb(0,0,"+ Math.round(d*10)+")";
	   });
	svg.selectAll("text")
	   .data(dataset)
	   .enter()
	   .append("text")
	   .text(function(d){
		return d;
	   })
	   .attr("text-anchor","middle")
	   .attr("x",function(d,i){
		return i*(w/dataset.length)+(w/dataset.length-barPadding)/2;
	   })
	   .attr("y",function(d){
		return h-4*d+14;
	   })
	   .attr("fill","white");
	</script>

</body>
</html>